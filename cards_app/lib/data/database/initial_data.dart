import 'database_helper.dart';
import '../models/flash_card.dart';
import 'dao/flash_card_dao.dart';
import 'dao/category_dao.dart';

/// Класс для загрузки начальных данных в базу
class InitialDataLoader {
  final FlashCardDao _cardDao = FlashCardDao();
  final CategoryDao _categoryDao = CategoryDao();

  /// Загрузить все начальные данные
  Future<void> loadAllData() async {
    await loadBasicsCards();
    await loadFoodCards();
    await loadFamilyCards();
    await loadNumbersCards();
    await loadColorsCards();
    await loadVerbsCards();

    // Обновляем счётчики карточек в категориях
    await _updateAllCategoryCounts();
  }

  /// Обновить счётчики во всех категориях
  Future<void> _updateAllCategoryCounts() async {
    final categories = await _categoryDao.getAllCategories();
    for (final category in categories) {
      await _categoryDao.updateCardsCount(category.id);
    }
  }

  /// Карточки: Основы
  Future<void> loadBasicsCards() async {
    final now = DateTime.now();
    final cards = [
      FlashCard(
        id: 'card_basics_1',
        germanWord: 'Hallo',
        russianTranslation: 'Привет',
        categoryId: 'cat_basics',
        partOfSpeech: 'interjection',
        exampleSentence: 'Hallo, wie geht es dir?',
        exampleTranslation: 'Привет, как дела?',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_basics_2',
        germanWord: 'Guten Morgen',
        russianTranslation: 'Доброе утро',
        categoryId: 'cat_basics',
        partOfSpeech: 'phrase',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_basics_3',
        germanWord: 'Guten Tag',
        russianTranslation: 'Добрый день',
        categoryId: 'cat_basics',
        partOfSpeech: 'phrase',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_basics_4',
        germanWord: 'Guten Abend',
        russianTranslation: 'Добрый вечер',
        categoryId: 'cat_basics',
        partOfSpeech: 'phrase',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_basics_5',
        germanWord: 'Gute Nacht',
        russianTranslation: 'Спокойной ночи',
        categoryId: 'cat_basics',
        partOfSpeech: 'phrase',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_basics_6',
        germanWord: 'Auf Wiedersehen',
        russianTranslation: 'До свидания',
        categoryId: 'cat_basics',
        partOfSpeech: 'phrase',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_basics_7',
        germanWord: 'Tschüss',
        russianTranslation: 'Пока',
        categoryId: 'cat_basics',
        partOfSpeech: 'interjection',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_basics_8',
        germanWord: 'Danke',
        russianTranslation: 'Спасибо',
        categoryId: 'cat_basics',
        partOfSpeech: 'interjection',
        exampleSentence: 'Danke schön!',
        exampleTranslation: 'Большое спасибо!',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_basics_9',
        germanWord: 'Bitte',
        russianTranslation: 'Пожалуйста',
        categoryId: 'cat_basics',
        partOfSpeech: 'interjection',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_basics_10',
        germanWord: 'Ja',
        russianTranslation: 'Да',
        categoryId: 'cat_basics',
        partOfSpeech: 'adverb',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_basics_11',
        germanWord: 'Nein',
        russianTranslation: 'Нет',
        categoryId: 'cat_basics',
        partOfSpeech: 'adverb',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_basics_12',
        germanWord: 'Entschuldigung',
        russianTranslation: 'Извините',
        categoryId: 'cat_basics',
        partOfSpeech: 'noun',
        exampleSentence: 'Entschuldigung, wo ist der Bahnhof?',
        exampleTranslation: 'Извините, где вокзал?',
        difficultyLevel: 2,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_basics_13',
        germanWord: 'Ich verstehe nicht',
        russianTranslation: 'Я не понимаю',
        categoryId: 'cat_basics',
        partOfSpeech: 'phrase',
        difficultyLevel: 2,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_basics_14',
        germanWord: 'Wie heißen Sie?',
        russianTranslation: 'Как Вас зовут?',
        categoryId: 'cat_basics',
        partOfSpeech: 'phrase',
        difficultyLevel: 2,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_basics_15',
        germanWord: 'Ich heiße...',
        russianTranslation: 'Меня зовут...',
        categoryId: 'cat_basics',
        partOfSpeech: 'phrase',
        exampleSentence: 'Ich heiße Anna.',
        exampleTranslation: 'Меня зовут Анна.',
        difficultyLevel: 1,
        createdAt: now,
      ),
    ];

    await _cardDao.insertCards(cards);
  }

  /// Карточки: Еда и напитки
  Future<void> loadFoodCards() async {
    final now = DateTime.now();
    final cards = [
      FlashCard(
        id: 'card_food_1',
        germanWord: 'Brot',
        russianTranslation: 'Хлеб',
        article: 'das',
        categoryId: 'cat_food',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_food_2',
        germanWord: 'Butter',
        russianTranslation: 'Масло',
        article: 'die',
        categoryId: 'cat_food',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_food_3',
        germanWord: 'Käse',
        russianTranslation: 'Сыр',
        article: 'der',
        categoryId: 'cat_food',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_food_4',
        germanWord: 'Milch',
        russianTranslation: 'Молоко',
        article: 'die',
        categoryId: 'cat_food',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_food_5',
        germanWord: 'Wasser',
        russianTranslation: 'Вода',
        article: 'das',
        categoryId: 'cat_food',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_food_6',
        germanWord: 'Kaffee',
        russianTranslation: 'Кофе',
        article: 'der',
        categoryId: 'cat_food',
        partOfSpeech: 'noun',
        exampleSentence: 'Ich trinke gerne Kaffee.',
        exampleTranslation: 'Я люблю пить кофе.',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_food_7',
        germanWord: 'Tee',
        russianTranslation: 'Чай',
        article: 'der',
        categoryId: 'cat_food',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_food_8',
        germanWord: 'Apfel',
        russianTranslation: 'Яблоко',
        article: 'der',
        pluralForm: 'Äpfel',
        categoryId: 'cat_food',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_food_9',
        germanWord: 'Banane',
        russianTranslation: 'Банан',
        article: 'die',
        pluralForm: 'Bananen',
        categoryId: 'cat_food',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_food_10',
        germanWord: 'Fleisch',
        russianTranslation: 'Мясо',
        article: 'das',
        categoryId: 'cat_food',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_food_11',
        germanWord: 'Fisch',
        russianTranslation: 'Рыба',
        article: 'der',
        categoryId: 'cat_food',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_food_12',
        germanWord: 'Ei',
        russianTranslation: 'Яйцо',
        article: 'das',
        pluralForm: 'Eier',
        categoryId: 'cat_food',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
    ];

    await _cardDao.insertCards(cards);
  }

  /// Карточки: Семья
  Future<void> loadFamilyCards() async {
    final now = DateTime.now();
    final cards = [
      FlashCard(
        id: 'card_family_1',
        germanWord: 'Familie',
        russianTranslation: 'Семья',
        article: 'die',
        categoryId: 'cat_family',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_family_2',
        germanWord: 'Mutter',
        russianTranslation: 'Мать',
        article: 'die',
        pluralForm: 'Mütter',
        categoryId: 'cat_family',
        partOfSpeech: 'noun',
        exampleSentence: 'Meine Mutter ist Lehrerin.',
        exampleTranslation: 'Моя мама - учительница.',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_family_3',
        germanWord: 'Vater',
        russianTranslation: 'Отец',
        article: 'der',
        pluralForm: 'Väter',
        categoryId: 'cat_family',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_family_4',
        germanWord: 'Bruder',
        russianTranslation: 'Брат',
        article: 'der',
        pluralForm: 'Brüder',
        categoryId: 'cat_family',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_family_5',
        germanWord: 'Schwester',
        russianTranslation: 'Сестра',
        article: 'die',
        pluralForm: 'Schwestern',
        categoryId: 'cat_family',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_family_6',
        germanWord: 'Großmutter',
        russianTranslation: 'Бабушка',
        article: 'die',
        categoryId: 'cat_family',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_family_7',
        germanWord: 'Großvater',
        russianTranslation: 'Дедушка',
        article: 'der',
        categoryId: 'cat_family',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_family_8',
        germanWord: 'Kind',
        russianTranslation: 'Ребёнок',
        article: 'das',
        pluralForm: 'Kinder',
        categoryId: 'cat_family',
        partOfSpeech: 'noun',
        exampleSentence: 'Das Kind spielt im Garten.',
        exampleTranslation: 'Ребёнок играет в саду.',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_family_9',
        germanWord: 'Sohn',
        russianTranslation: 'Сын',
        article: 'der',
        pluralForm: 'Söhne',
        categoryId: 'cat_family',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_family_10',
        germanWord: 'Tochter',
        russianTranslation: 'Дочь',
        article: 'die',
        pluralForm: 'Töchter',
        categoryId: 'cat_family',
        partOfSpeech: 'noun',
        difficultyLevel: 1,
        createdAt: now,
      ),
    ];

    await _cardDao.insertCards(cards);
  }

  /// Карточки: Числа
  Future<void> loadNumbersCards() async {
    final now = DateTime.now();
    final cards = [
      FlashCard(
        id: 'card_numbers_1',
        germanWord: 'eins',
        russianTranslation: 'один',
        categoryId: 'cat_numbers',
        partOfSpeech: 'numeral',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_numbers_2',
        germanWord: 'zwei',
        russianTranslation: 'два',
        categoryId: 'cat_numbers',
        partOfSpeech: 'numeral',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_numbers_3',
        germanWord: 'drei',
        russianTranslation: 'три',
        categoryId: 'cat_numbers',
        partOfSpeech: 'numeral',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_numbers_4',
        germanWord: 'vier',
        russianTranslation: 'четыре',
        categoryId: 'cat_numbers',
        partOfSpeech: 'numeral',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_numbers_5',
        germanWord: 'fünf',
        russianTranslation: 'пять',
        categoryId: 'cat_numbers',
        partOfSpeech: 'numeral',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_numbers_6',
        germanWord: 'sechs',
        russianTranslation: 'шесть',
        categoryId: 'cat_numbers',
        partOfSpeech: 'numeral',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_numbers_7',
        germanWord: 'sieben',
        russianTranslation: 'семь',
        categoryId: 'cat_numbers',
        partOfSpeech: 'numeral',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_numbers_8',
        germanWord: 'acht',
        russianTranslation: 'восемь',
        categoryId: 'cat_numbers',
        partOfSpeech: 'numeral',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_numbers_9',
        germanWord: 'neun',
        russianTranslation: 'девять',
        categoryId: 'cat_numbers',
        partOfSpeech: 'numeral',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_numbers_10',
        germanWord: 'zehn',
        russianTranslation: 'десять',
        categoryId: 'cat_numbers',
        partOfSpeech: 'numeral',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_numbers_11',
        germanWord: 'zwanzig',
        russianTranslation: 'двадцать',
        categoryId: 'cat_numbers',
        partOfSpeech: 'numeral',
        difficultyLevel: 2,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_numbers_12',
        germanWord: 'hundert',
        russianTranslation: 'сто',
        categoryId: 'cat_numbers',
        partOfSpeech: 'numeral',
        difficultyLevel: 2,
        createdAt: now,
      ),
    ];

    await _cardDao.insertCards(cards);
  }

  /// Карточки: Цвета
  Future<void> loadColorsCards() async {
    final now = DateTime.now();
    final cards = [
      FlashCard(
        id: 'card_colors_1',
        germanWord: 'rot',
        russianTranslation: 'красный',
        categoryId: 'cat_colors',
        partOfSpeech: 'adjective',
        exampleSentence: 'Der Apfel ist rot.',
        exampleTranslation: 'Яблоко красное.',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_colors_2',
        germanWord: 'blau',
        russianTranslation: 'синий',
        categoryId: 'cat_colors',
        partOfSpeech: 'adjective',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_colors_3',
        germanWord: 'grün',
        russianTranslation: 'зелёный',
        categoryId: 'cat_colors',
        partOfSpeech: 'adjective',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_colors_4',
        germanWord: 'gelb',
        russianTranslation: 'жёлтый',
        categoryId: 'cat_colors',
        partOfSpeech: 'adjective',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_colors_5',
        germanWord: 'schwarz',
        russianTranslation: 'чёрный',
        categoryId: 'cat_colors',
        partOfSpeech: 'adjective',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_colors_6',
        germanWord: 'weiß',
        russianTranslation: 'белый',
        categoryId: 'cat_colors',
        partOfSpeech: 'adjective',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_colors_7',
        germanWord: 'grau',
        russianTranslation: 'серый',
        categoryId: 'cat_colors',
        partOfSpeech: 'adjective',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_colors_8',
        germanWord: 'orange',
        russianTranslation: 'оранжевый',
        categoryId: 'cat_colors',
        partOfSpeech: 'adjective',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_colors_9',
        germanWord: 'rosa',
        russianTranslation: 'розовый',
        categoryId: 'cat_colors',
        partOfSpeech: 'adjective',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_colors_10',
        germanWord: 'braun',
        russianTranslation: 'коричневый',
        categoryId: 'cat_colors',
        partOfSpeech: 'adjective',
        difficultyLevel: 1,
        createdAt: now,
      ),
    ];

    await _cardDao.insertCards(cards);
  }

  /// Карточки: Глаголы
  Future<void> loadVerbsCards() async {
    final now = DateTime.now();
    final cards = [
      FlashCard(
        id: 'card_verbs_1',
        germanWord: 'sein',
        russianTranslation: 'быть',
        categoryId: 'cat_verbs',
        partOfSpeech: 'verb',
        exampleSentence: 'Ich bin Student.',
        exampleTranslation: 'Я студент.',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_verbs_2',
        germanWord: 'haben',
        russianTranslation: 'иметь',
        categoryId: 'cat_verbs',
        partOfSpeech: 'verb',
        exampleSentence: 'Ich habe ein Auto.',
        exampleTranslation: 'У меня есть машина.',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_verbs_3',
        germanWord: 'machen',
        russianTranslation: 'делать',
        categoryId: 'cat_verbs',
        partOfSpeech: 'verb',
        exampleSentence: 'Was machst du?',
        exampleTranslation: 'Что ты делаешь?',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_verbs_4',
        germanWord: 'gehen',
        russianTranslation: 'идти',
        categoryId: 'cat_verbs',
        partOfSpeech: 'verb',
        exampleSentence: 'Ich gehe nach Hause.',
        exampleTranslation: 'Я иду домой.',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_verbs_5',
        germanWord: 'kommen',
        russianTranslation: 'приходить',
        categoryId: 'cat_verbs',
        partOfSpeech: 'verb',
        exampleSentence: 'Woher kommen Sie?',
        exampleTranslation: 'Откуда Вы?',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_verbs_6',
        germanWord: 'sagen',
        russianTranslation: 'говорить, сказать',
        categoryId: 'cat_verbs',
        partOfSpeech: 'verb',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_verbs_7',
        germanWord: 'sehen',
        russianTranslation: 'видеть',
        categoryId: 'cat_verbs',
        partOfSpeech: 'verb',
        difficultyLevel: 1,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_verbs_8',
        germanWord: 'wissen',
        russianTranslation: 'знать',
        categoryId: 'cat_verbs',
        partOfSpeech: 'verb',
        exampleSentence: 'Ich weiß nicht.',
        exampleTranslation: 'Я не знаю.',
        difficultyLevel: 2,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_verbs_9',
        germanWord: 'wollen',
        russianTranslation: 'хотеть',
        categoryId: 'cat_verbs',
        partOfSpeech: 'verb',
        exampleSentence: 'Ich will Deutsch lernen.',
        exampleTranslation: 'Я хочу учить немецкий.',
        difficultyLevel: 2,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_verbs_10',
        germanWord: 'können',
        russianTranslation: 'мочь, уметь',
        categoryId: 'cat_verbs',
        partOfSpeech: 'verb',
        exampleSentence: 'Können Sie mir helfen?',
        exampleTranslation: 'Вы можете мне помочь?',
        difficultyLevel: 2,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_verbs_11',
        germanWord: 'müssen',
        russianTranslation: 'должен',
        categoryId: 'cat_verbs',
        partOfSpeech: 'verb',
        exampleSentence: 'Ich muss arbeiten.',
        exampleTranslation: 'Я должен работать.',
        difficultyLevel: 2,
        createdAt: now,
      ),
      FlashCard(
        id: 'card_verbs_12',
        germanWord: 'lernen',
        russianTranslation: 'учить, изучать',
        categoryId: 'cat_verbs',
        partOfSpeech: 'verb',
        exampleSentence: 'Ich lerne Deutsch.',
        exampleTranslation: 'Я изучаю немецкий.',
        difficultyLevel: 1,
        createdAt: now,
      ),
    ];

    await _cardDao.insertCards(cards);
  }
}
